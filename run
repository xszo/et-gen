#!/bin/sh

while getopts "ai" opt; do
  case $opt in
    a) OptA=true;;
    i) OptI=true;;
  esac; done;

if [ $OptA ]; then
  poetry install;
fi;

if [ $OptI ]; then
  if ! which poetry; then
    pipx install poetry;
  fi;
  poetry install --sync;
  poetry update;
fi;

poetry run python src/run.py "$@";
