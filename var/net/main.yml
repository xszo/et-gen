# profile list
list:
  - profile.yml
  - other.yml
  - s.yml
  - ad.yml
# data for proxy section
proxy:
  # flag path, p local file, l link
  - p node.yml
  - l https://xszo.github.io/etc/var/net/node.yml

# base profile
gen:
  # target software
  tar:
    - quantumult
    - clash
    - surge
    # - shadowrocket
    # - loon
  # variables refered with '=name'
  var:
    NodeList:
      - Node0
      - Node1
      - Node2
      - Node3
      - CN
      - DE
      - GB
      - HK
      - JP
      - SG
      - TW
      - US
      - Node
      - N-JMS
# misc data
meta:
  # lag test http link
  test: http://1.1.1.1/
  # dns over udp on port 53
  dns:
    - "1.1.1.1"
    - "1.0.0.1"
    - "[2606:4700:4700::1111]"
    - "[2606:4700:4700::1001]"
  # dns over https
  doh: https://cloudflare-dns.com/dns-query
# node group info
node:
  - name: DEFAULT # group identifier
    # type, static manual set dest, test set based on lag test
    type: static
    # group children, use '=' to insert predefined var,
    # group children filter, use '=' to refer var/pattern:region
    list: [DIRECT, REJECT, =NodeList]
    # group icon for ios
    ico-sf: arrow.left.arrow.right.system
  # in profile '=' can insert corresponding list in base, '-0' can insert 0th item
  # - "=" | "-1"
  - type: static
    name: SYSTEM
    list: [DEFAULT, DIRECT, =NodeList]
    ico-sf: arrow.left.and.right.system
  - type: static
    name: STREAM
    list: [DEFAULT, DIRECT, =NodeList]
    ico-sf: arrow.left.and.right.system
  - type: static
    name: R-CN
    list: [DEFAULT, DIRECT, =NodeList]
    ico-sf: arrow.left.and.right.system
  - type: static
    name: R-JP
    list: [DEFAULT, DIRECT, =NodeList]
    ico-sf: arrow.left.and.right.system
  - type: static
    name: R-TW
    list: [DEFAULT, DIRECT, =NodeList]
    ico-sf: arrow.left.and.right.system
  - type: static
    name: R-US
    list: [DEFAULT, DIRECT, =NodeList]
    ico-sf: arrow.left.and.right.system
  - type: static
    name: Node0
    list: .*
    ico-sf: arrow.triangle.branch.system
  - type: static
    name: Node1
    list: .*
    ico-sf: arrow.triangle.branch.system
  - type: static
    name: Node2
    list: .*
    ico-sf: arrow.triangle.branch.system
  - type: static
    name: Node3
    list: .*
    ico-sf: arrow.triangle.branch.system
  - type: test
    name: CN
    list: =cn
    ico-sf: arrow.triangle.swap.system
  - type: test
    name: DE
    list: =de
    ico-sf: arrow.triangle.swap.system
  - type: test
    name: GB
    list: =gb
    ico-sf: arrow.triangle.swap.system
  - type: test
    name: HK
    list: =hk
    ico-sf: arrow.triangle.swap.system
  - type: test
    name: JP
    list: =jp
    ico-sf: arrow.triangle.swap.system
  - type: test
    name: SG
    list: =sg
    ico-sf: arrow.triangle.swap.system
  - type: test
    name: TW
    list: =tw
    ico-sf: arrow.triangle.swap.system
  - type: test
    name: US
    list: =us
    ico-sf: arrow.triangle.swap.system
  - type: test
    name: Node
    list: .*
    ico-sf: arrow.triangle.swap.system
  - type: test
    name: N-JMS
    list: ^JMS-\d+@\w+s\d{1,2}\.\w+\.\w+:\d+
    ico-sf: arrow.triangle.swap.system
# filter info
filter:
  - name: direct
    # type gen will look into filter/ and generate list
    # type pre will link generated list
    # type main is the default dest and only the last is valid
    type: gen
    dest: DIRECT
  - type: gen
    name: system
    dest: SYSTEM
  - type: gen
    name: global
    dest: DEFAULT
  - type: gen
    name: stream
    dest: STREAM
  - type: gen
    name: r-cn
    dest: R-CN
  - type: ipgeo
    name: cn
    dest: R-CN
  - type: gen
    name: r-jp
    dest: R-JP
  - type: ipgeo
    name: jp
    dest: R-JP
  - type: gen
    name: r-tw
    dest: R-TW
  - type: ipgeo
    name: tw
    dest: R-TW
  - type: gen
    name: r-us
    dest: R-US
  - type: main
    dest: DEFAULT
