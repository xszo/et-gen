# output list
list:
  # id, list below
  - direct direct
  - system system
  - world world stream
  - rcn r-cn vlccn
  - rjp r-jp
  - rtw r-tw
  - rus r-us

  - adz adguardfix
  - ad -adz adguard vlcad
  - fww vlcww gfw

# V2fly domain List Community
# vlc{id}
vlc:
  # id list
  - cn geolocation-cn
  - ww geolocation-!cn
  - ad category-ads

# Parse Online list
# {reg}
get:
  - # link to source file
    uri: https://filters.adtidy.org/ios/filters/15.txt
    # use preprocessor
    pre: []
    # use regular expression to convert
    reg:
      # into sublist
      adguard:
        # match pattern, expand pattern
        - ^\=bs\\=dn\\=ed\  .\1
        - ^\=bs\\=dl\\=ed\  .\1*
        - ^\=bn\\=dn\\=ed\  \1
        - ^\=bn\\=dl\\=ed\  \1*
      adguardfix:
        - ^@@\=bs\\=dn\\=ed\  .\1
        - ^@@\=bs\\=dl\\=ed\  .\1*
        - ^@@\=bn\\=dn\\=ed\  \1
        - ^@@\=bn\\=dl\\=ed\  \1*

  - uri: https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt
    pre: [b64]
    reg:
      gfw:
        - ^\=bs\\=dn\\=ed\  .\1
        - ^\=bs\\=dl\\=ed\  .\1*
        - ^\=bn\\=dn\\=ed\  \1
        - ^\=bn\\=dl\\=ed\  \1*
      gfwcn:
        - ^@@\=bs\\=dn\\=ed\  .\1
        - ^@@\=bs\\=dl\\=ed\  .\1*
        - ^@@\=bn\\=dn\\=ed\  \1
        - ^@@\=bn\\=dl\\=ed\  \1*

# variables refered with '\=name\'
var:
  bs: (?:\|\||\.)
  bn: (?:\|?|\|?[a-z]*://)
  dn: ((?:[A-Za-z0-9\*](?:[A-Za-z0-9\-\*]*[A-Za-z0-9\*])?\.)+(?:[A-Za-z]+|xn--[A-Za-z0-9]+))
  dl: ((?:[A-Za-z0-9\*](?:[A-Za-z0-9\-\*]*[A-Za-z0-9\*])?\.)+)\*?
  ed: (?:$|\^|\$|/|%2F)
